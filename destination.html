<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página de Destino - Sistema de Pestañas</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        h1 {
            color: #333;
        }
        
        /* Estilos para la navegación de pestañas */
        .tab-nav {
            list-style: none;
            padding: 0;
            margin: 20px 0 0 0;
            display: flex;
            border-bottom: 1px solid #ddd;
        }
        
        .tab-nav li {
            margin-right: 5px;
        }
        
        .tab-nav a {
            display: block;
            padding: 10px 15px;
            text-decoration: none;
            color: #666;
            border: 1px solid transparent;
            border-bottom: none;
            border-radius: 5px 5px 0 0;
            transition: all 0.3s;
        }
        
        .tab-nav a:hover {
            background-color: #f1f1f1;
        }
        
        .tab-nav a.active {
            background-color: #fff;
            color: #333;
            border-color: #ddd;
            border-bottom: 1px solid #fff;
            margin-bottom: -1px;
            font-weight: bold;
        }
        
        /* Estilos para los paneles de contenido */
        .tab-panels {
            border: 1px solid #ddd;
            border-top: none;
            padding: 20px;
            background-color: #fff;
        }
        
        .tab-panel {
            display: none;
        }
        
        .tab-panel.active {
            display: block;
        }
        
        .back-link {
            margin-top: 20px;
            display: inline-block;
            color: #0066cc;
            text-decoration: none;
        }
        
        .back-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <h1>Página de Destino</h1>
    <p>Esta página contiene un sistema de pestañas que se activa según el hash en la URL.</p>
    
    <!-- Navegación de pestañas -->
    <ul class="tab-nav">
        <li><a href="#panel1">Pestaña 1</a></li>
        <li><a href="#panel2">Pestaña 2</a></li>
        <li><a href="#panel3">Pestaña 3</a></li>
        <li><a href="#panel4">Pestaña 4</a></li>
    </ul>
    
    <!-- Paneles de contenido -->
    <div class="tab-panels">
        <div id="panel1" class="tab-panel">
            <h2>Contenido de la Pestaña 1</h2>
            <p>Este es el contenido de la primera pestaña. Se activa cuando la URL contiene el hash #tab1.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam auctor, nisl eget ultricies tincidunt, nisl nisl aliquam nisl, eget ultricies nisl nisl eget nisl.</p>
        </div>
        
        <div id="panel2" class="tab-panel">
            <h2>Contenido de la Pestaña 2</h2>
            <p>Este es el contenido de la segunda pestaña. Se activa cuando la URL contiene el hash #tab2.</p>
            <p>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante.</p>
        </div>
        
        <div id="panel3" class="tab-panel">
            <h2>Contenido de la Pestaña 3</h2>
            <p>Este es el contenido de la tercera pestaña. Se activa cuando la URL contiene el hash #tab3.</p>
            <p>Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo. Quisque sit amet est et sapien ullamcorper pharetra.</p>
        </div>
        
        <div id="panel4" class="tab-panel">
            <h2>Contenido de la Pestaña 4</h2>
            <p>Este es el contenido de la cuarta pestaña. Se activa cuando la URL contiene el hash #tab4.</p>
            <p>Etiam rhoncus. Maecenas tempus, tellus eget condimentum rhoncus, sem quam semper libero, sit amet adipiscing sem neque sed ipsum.</p>
        </div>
    </div>
    
    <a href="source.html" class="back-link">Volver a la página de origen</a>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Obtener el hash de la URL
            const hash = window.location.hash.substring(1); // Eliminar el #
            
            // Mapeo de hashes a IDs de paneles
            const tabMapping = {
                'tab1': 'panel1',
                'tab2': 'panel2',
                'tab3': 'panel3',
                'tab4': 'panel4'
            };
            
            // Función para activar una pestaña específica
            function activateTab(tabId) {
                // Eliminar la clase 'active' de todas las pestañas y paneles
                const allTabs = document.querySelectorAll('.tab-nav a');
                const allPanels = document.querySelectorAll('.tab-panel');
                
                allTabs.forEach(tab => tab.classList.remove('active'));
                allPanels.forEach(panel => panel.classList.remove('active'));
                
                // Agregar la clase 'active' a la pestaña y panel correspondientes
                const targetTab = document.querySelector(`.tab-nav a[href="#${tabId}"]`);
                const targetPanel = document.getElementById(tabId);
                
                if (targetTab && targetPanel) {
                    targetTab.classList.add('active');
                    targetPanel.classList.add('active');
                }
            }
            
            // Determinar qué pestaña activar
            if (hash && tabMapping[hash]) {
                // Si hay un hash válido en la URL, activar la pestaña correspondiente
                activateTab(tabMapping[hash]);
            } else {
                // Si no hay hash o no es válido, activar la primera pestaña por defecto
                activateTab('panel1');
            }
            
            // Agregar event listeners para los clics en las pestañas
            const tabLinks = document.querySelectorAll('.tab-nav a');
            tabLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    activateTab(targetId);
                    
                    // Actualizar el hash en la URL sin recargar la página
                    window.history.pushState(null, null, '#' + targetId);
                });
            });
        });
    </script>
</body>
</html>